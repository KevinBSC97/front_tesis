<app-navbar></app-navbar>
<p-toast></p-toast>
<div class="container mt-4">
  <h2>Crear Cita</h2>
  <form (ngSubmit)="createCita()">
    <div class="form-group">
      <label for="descripcion">Descripci√≥n</label>
      <input type="text" class="form-control" id="descripcion" [(ngModel)]="newCita.descripcion" name="descripcion" required>
    </div>
    <!-- <div class="form-group">
      <label for="fechaHora">Fecha y Hora</label>
      <input type="datetime-local" class="form-control" id="fechaHora" [(ngModel)]="newCita.fechaHora" name="fechaHora" required>
    </div> -->
    <div class="form-group">
      <label for="fechaHora">Fecha y Hora</label>
      <input type="datetime-local" class="form-control" id="fechaHora" [(ngModel)]="newCita.fechaHora"
             [min]="minDate" name="fechaHora" required>
    </div>
    <div class="form-group mt-3">
      <label for="especialidad">Especialidad</label>
      <select class="form-control" id="especialidad" [(ngModel)]="selectedEspecialidad" (change)="onEspecialidadChange($event)" name="especialidad" required>
        <option *ngFor="let especialidad of especialidadesDTO" [value]="especialidad.especialidadId">{{ especialidad.descripcion }}</option>
      </select>
    </div>
    <div class="form-group mt-3">
      <label for="abogado">Abogado</label>
      <select class="form-control" id="abogado" [(ngModel)]="selectedAbogado" name="abogado" required>
        <option *ngFor="let abogado of abogadosDTO" [value]="abogado.usuarioId">{{ abogado.nombre }} {{ abogado.apellido }}</option>
      </select>
    </div>
    <div class="form-group mt-3">
      <button type="submit" class="btn btn-success mt-5" [disabled]="!canCreateCita()">Crear Cita</button>
      <button type="button" class="btn btn-secondary mt-5 btn-margin-left" (click)="navigateHome()">Regresar</button>
    </div>
  </form>
</div>
